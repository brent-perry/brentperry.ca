export function parseJsonResponse(response) {
    const json = JSON.parse(response.body);
    if (response.status !== 200 || json.error) {
        const message = json.error?.message;
        throw new Error(message
            ? `${response.status}: ${message}`
            : `unknown error`);
    }
    else {
        return json.result;
    }
}
//# sourceMappingURL=parse-json-response.js.map