import { contentTypeText } from "./content-type-text.js";
export function jsonHttpRequest({ link, meta, args, specifier, requestOrigin, headers: moreHeaders, }) {
    return {
        method: "post",
        path: new URL(link).pathname,
        headers: {
            // json requests are sent as plain text
            // in order to avoid any cors 'options' preflight requests
            // by qualifying as a cors "simple request"
            "content-type": contentTypeText,
            ...requestOrigin
                ? { "origin": requestOrigin }
                : {},
            ...moreHeaders,
        },
        body: JSON.stringify({
            jsonrpc: "2.0",
            method: specifier,
            params: [meta, ...args],
        }),
    };
}
//# sourceMappingURL=json-http-request.js.map