import { generateRemote } from "./generate-remote.js";
import { jsonHttpRequest } from "../jsonrpc/json-http-request.js";
import { parseJsonResponse } from "../jsonrpc/parse-json-response.js";
export function loopbackJsonRemote({ link, shape, headers, servelet }) {
    return generateRemote({
        link,
        shape,
        requester: async ({ args, link, meta, specifier }) => {
            const request = jsonHttpRequest({
                link,
                args,
                meta,
                headers,
                specifier,
            });
            const response = await servelet(request);
            return parseJsonResponse(response);
        },
    });
}
//# sourceMappingURL=loopback-json-remote.js.map